

#单CPU下的多线程和单线程（单进程）的区别。

>有两点：

 1. CPU调度的方式和效率不一样。
 2. 语法和语义上不同。

解释 原因1 比如

    openfile

>例子:打开一个大文件，读取内容，并显示在一个文本框内并高亮显示关键词。

单进程或者单线程，是这样：

    步骤1:openfile
    步骤2：CPU挂起等待I/O硬件响应，如果不响应，一直等待。
	步骤3：一但响应，读取缓冲区内容并写入到临时变量。
	步骤4：根据临时变量进行文法分析，有特殊关键词进行控件着色并显示。

多线程，是这样：

	线程1 步骤1：openfile
    线程2 步骤2：等待线程1给这个线程发送消息，如果没有发送消息，和上面没有区别。
    线程2 步骤2：接收到消息并得到消息中缓冲的字符，写入临时变量。
	线程3 步骤3：根据临时变量进行文法分析，有特殊关键词进行控件着色并显示。

上面粗略看，感觉是一样的。但一旦响应后是不一样的。
多线程的程序线程1的openfile开销大小并不会影响到线程2的实际工作效率，因为cpu指令会根据`两个线程的调度最优化执行`，线程2的等待并不因为线程1的I/O等待而等待。（如果你问如果I/O等待这两者是一样的，那我告诉你`磁盘处理器`模块执行是独立的，并不和CPU占用同一周期时间片，当然其他的I/O处理器也是一样。 ^.^）


而单进程或者单线程，在文件每次read的时候会产生等待也就是无法执行后面3个步骤。

所以在单CPU下，多线程和单线程区别是在比较耗时的操作上或者良好的软件体验上，区别十分大！




    

