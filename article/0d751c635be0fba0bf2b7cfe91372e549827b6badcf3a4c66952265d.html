<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>构造器引用是什么？</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="../static/css/render.css" rel="stylesheet" type="text/css" />
</head>
<body>
<h1>构造器引用是什么？<h1>
<p>What are constructor references?
In the same way that method references are handles to existing methods, constructor reference are handles to existing constructors. Constructor references are created using syntax similar to that for method references, but with the method name replaced with the keyword new. For example:</p>
<table class="colorfultable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%">1
2</pre></div></td><td class="code"><div class="colorful" style="background: #202020"><pre style="line-height: 125%"><span style="color: #d0d0d0">ArrayList::new</span>
<span style="color: #d0d0d0">File::new</span>
</pre></div>
</td></tr></table>

<p>If the constructor is generic, type arguments can be explicitly declared before new:</p>
<table class="colorfultable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%">1
2</pre></div></td><td class="code"><div class="colorful" style="background: #202020"><pre style="line-height: 125%"><span style="color: #d0d0d0">interface</span> <span style="color: #d0d0d0">Factory&lt;</span><span style="color: #24909d">T</span><span style="color: #d0d0d0">&gt;</span> <span style="color: #d0d0d0">{</span> <span style="color: #24909d">T</span> <span style="color: #d0d0d0">make();</span> <span style="color: #d0d0d0">}</span>
<span style="color: #d0d0d0">Factory&lt;ArrayList&lt;</span><span style="color: #6ab825; font-weight: bold">String</span><span style="color: #d0d0d0">&gt;&gt;</span> <span style="color: #d0d0d0">f1</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">ArrayList::&lt;</span><span style="color: #6ab825; font-weight: bold">String</span><span style="color: #d0d0d0">&gt;</span><span style="color: #24909d">new</span><span style="color: #d0d0d0">;</span>
</pre></div>
</td></tr></table>

<p>As with method references, the choice between overloaded constructors is made using the target type of the context. For example, the second line of the following code maps the Integer(String) constructor on to each element of strList (and then adds them all into a new collection using into):</p>
<table class="colorfultable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%">1
2</pre></div></td><td class="code"><div class="colorful" style="background: #202020"><pre style="line-height: 125%"><span style="color: #24909d">List</span><span style="color: #d0d0d0">&lt;</span><span style="color: #6ab825; font-weight: bold">String</span><span style="color: #d0d0d0">&gt;</span> <span style="color: #d0d0d0">strList</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">Arrays.asList(</span><span style="color: #ed9d13">&quot;1&quot;</span><span style="color: #d0d0d0">,</span><span style="color: #ed9d13">&quot;2&quot;</span><span style="color: #d0d0d0">,</span><span style="color: #ed9d13">&quot;3&quot;</span><span style="color: #d0d0d0">);</span>
<span style="color: #d0d0d0">ArrayList&lt;</span><span style="color: #6ab825; font-weight: bold">Integer</span><span style="color: #d0d0d0">&gt;</span> <span style="color: #d0d0d0">intList</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">strList.map(</span><span style="color: #6ab825; font-weight: bold">Integer</span><span style="color: #d0d0d0">::new)</span><span style="color: #24909d">.</span><span style="color: #d0d0d0">into(</span><span style="color: #24909d">new</span> <span style="color: #d0d0d0">ArrayList&lt;</span><span style="color: #6ab825; font-weight: bold">Integer</span><span style="color: #d0d0d0">&gt;());</span>
</pre></div>
</td></tr></table>

<a href="./">回到首页</a>
</body>
</html>
<!-- css from http://kevinburke.bitbucket.org/markdowncss/ -->

